<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"modules.list.html":{"id":"modules.list.html","title":"Modules","body":" cli-worker Modules FeatureFeature_BootstrapFeature_CmdLineOptionsFeature_DevConfigByGitUserFeature_FeatureRegistryFeature_LoggersFeature_SettingsFeature_VersionLiteral Classes CliApp Events CliApp#event:configLoadedCliApp#event:readyCliApp#event:stopping Modules Classes CliApp Events configLoaded Config loaded event. Source: CliApp.js ready App ready Source: CliApp.js stopping App stopping Source: CliApp.js × Search results Close "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" cli-worker Modules FeatureFeature_BootstrapFeature_CmdLineOptionsFeature_DevConfigByGitUserFeature_FeatureRegistryFeature_LoggersFeature_SettingsFeature_VersionLiteral Classes CliApp Events CliApp#event:configLoadedCliApp#event:readyCliApp#event:stopping Classes Classes CliApp Events configLoaded Config loaded event. Source: CliApp.js ready App ready Source: CliApp.js stopping App stopping Source: CliApp.js × Search results Close "},"index.html":{"id":"index.html","title":"Index","body":" cli-worker Modules FeatureFeature_BootstrapFeature_CmdLineOptionsFeature_DevConfigByGitUserFeature_FeatureRegistryFeature_LoggersFeature_SettingsFeature_VersionLiteral Classes CliApp Events CliApp#event:configLoadedCliApp#event:readyCliApp#event:stopping cli-workerCLI Worker Process Library see API Document exampleusageconst CliApp = require('cli-worker'); let cliApp = new CliApp('test'); cliApp.start_().then(() =&gt; { cliApp.log('info', 'started.'); cliApp.showUsage(); let biLogs = cliApp.getService('logger:bi'); biLogs.info({ user: 'tester', operation: 'ad hoc smoke test' }); let tracer = cliApp.getService('logger:trace'); tracer.info(cliApp.settings.parser.lib); return cliApp.stop_(); }).catch(error =&gt; { console.error(error); process.exit(1); });sample app config{ \"version\": \"1.0\", \"cmdLineOptions\": { \"banner\": \"#!jsv: (app) =&gt; `This is the program banner v${app.version}`\", \"arguments\": [ { \"name\": \"target file\", \"required\": true } ], \"options\": { \"e\": { \"desc\": \"Target environment\", \"alias\": [ \"env\", \"environment\" ], \"default\": \"development\" }, \"v\": { \"desc\": \"Show version number\", \"alias\": [ \"version\" ], \"isBool\": true, \"default\": false }, \"?\": { \"desc\": \"Show usage message\", \"alias\": [ \"help\" ], \"isBool\": true, \"default\": false } } }, \"bootstrap\": {}, \"devConfigByGitUser\": {}, \"settings\": { \"parser\": { \"lib\": \"default\" } }, \"loggers\": { \"trace\": { \"transports\": [ { \"type\": \"console\", \"options\": { \"level\": \"info\", \"format\": \"#!jsv: log.format.combine(log.format.colorize(), log.format.simple())\" } }, { \"type\": \"daily-rotate-file\", \"options\": { \"level\": \"verbose\", \"filename\": \"category2-%DATE%.log\", \"datePattern\": \"YYYYMMDD\" } } ] }, \"bi\": { \"transports\": [ { \"type\": \"mongodb\", \"options\": { \"db\": \"mongodb://root:root@localhost/biLogs?authSource=admin\" } } ] } } }License MIT × Search results Close "},"CliApp.html":{"id":"CliApp.html","title":"Class: CliApp","body":" cli-worker Modules FeatureFeature_BootstrapFeature_CmdLineOptionsFeature_DevConfigByGitUserFeature_FeatureRegistryFeature_LoggersFeature_SettingsFeature_VersionLiteral Classes CliApp Events CliApp#event:configLoadedCliApp#event:readyCliApp#event:stopping Class: CliApp CliApp new CliApp(name [, options]) Back-end cli worker process template. Parameters: Name Type Argument Description name string The name of the cli application. options object &lt;optional&gt; Application options Properties: Name Type Argument Default Description options.logger object &lt;optional&gt; Logger options options.verbose bool &lt;optional&gt; false Flag to output trivial information for diagnostics Source: CliApp.js Extends EventEmitter Members config :object App configuration Type: object Source: CliApp.js configLoader :object Configuration loader instance Type: object Source: CliApp.js configPath :string Config path Type: string Source: CliApp.js env :string Environment flag Type: string Source: CliApp.js features :object Loaded features, name =&gt; feature object Type: object Source: CliApp.js name :object Name of the app Type: object Source: CliApp.js options :object App options Type: object Source: CliApp.js services :object Loaded services Type: object Source: CliApp.js workingPath :string Working directory of this cli app Type: string Source: CliApp.js Methods getService(name) Get a service from module hierarchy Parameters: Name Type Description name Source: CliApp.js Returns: Type object &lt;async&gt; loadConfig_() Source: CliApp.js Returns: Type CliApp loadFeature(feature) Load a feature object by name Parameters: Name Type Description feature string Source: CliApp.js Returns: Type object log() Default log method, may be override by loggers feature Source: CliApp.js registerService(name, serviceObject, override) Register a service Parameters: Name Type Description name string serviceObject object override boolean Source: CliApp.js &lt;async&gt; start_() Start the cli app Source: CliApp.js Fires: CliApp#event:configLoaded CliApp#event:ready Returns: Type Promise.&lt;CliApp&gt; &lt;async&gt; stop_() Stop the app module Source: CliApp.js Fires: CliApp#event:stopping Returns: Type Promise.&lt;CliApp&gt; toAbsolutePath(args) Translate a relative path of this app module to an absolute path Parameters: Name Type Argument Description args array &lt;repeatable&gt; Array of path parts Source: CliApp.js Returns: Type string Events configLoaded Config loaded event. Source: CliApp.js ready App ready Source: CliApp.js stopping App stopping Source: CliApp.js × Search results Close "},"module-Feature.html":{"id":"module-Feature.html","title":"Module: Feature","body":" cli-worker Modules FeatureFeature_BootstrapFeature_CmdLineOptionsFeature_DevConfigByGitUserFeature_FeatureRegistryFeature_LoggersFeature_SettingsFeature_VersionLiteral Classes CliApp Events CliApp#event:configLoadedCliApp#event:readyCliApp#event:stopping Module: Feature Feature loading stage definitions Source: enum/Feature.js Example const Feature = require('cli-worker/lib/enum/Feature'); Members &lt;static&gt; CONF :string Configuration Type: string Default Value: Configure Source: enum/Feature.js &lt;static&gt; INIT :string Initialization, e.g. bootstrap, settings Type: string Default Value: Initial Source: enum/Feature.js &lt;static&gt; PLUGIN :string Attaching middlewares Type: string Default Value: Plugins Source: enum/Feature.js &lt;static&gt; SERVICE :string Services, e.g. loggers, i18n Type: string Default Value: Services Source: enum/Feature.js Methods &lt;static&gt; validate(featureObject) Validate a feature object. Parameters: Name Type Description featureObject object Feature object Properties: Name Type Description featureObject.type string Feature loading stage featureObject.load_ function Feature loading method Source: enum/Feature.js Returns: Type bool × Search results Close "},"module-Feature_Bootstrap.html":{"id":"module-Feature_Bootstrap.html","title":"Module: Feature_Bootstrap","body":" cli-worker Modules FeatureFeature_BootstrapFeature_CmdLineOptionsFeature_DevConfigByGitUserFeature_FeatureRegistryFeature_LoggersFeature_SettingsFeature_VersionLiteral Classes CliApp Events CliApp#event:configLoadedCliApp#event:readyCliApp#event:stopping Module: Feature_Bootstrap Enable bootstrap scripts Source: features/bootstrap.js Members &lt;static&gt; type :string This feature is loaded at init stage Type: string Source: features/bootstrap.js Methods &lt;static&gt; load_(app, options) Load the feature Parameters: Name Type Description app CliApp The cli app module object options object Options for the feature Properties: Name Type Argument Default Description options.path string &lt;optional&gt; 'boostrap' The path of the bootstrap scripts Source: features/bootstrap.js Returns: Type Promise.&lt;*&gt; × Search results Close "},"module-Feature_CmdLineOptions.html":{"id":"module-Feature_CmdLineOptions.html","title":"Module: Feature_CmdLineOptions","body":" cli-worker Modules FeatureFeature_BootstrapFeature_CmdLineOptionsFeature_DevConfigByGitUserFeature_FeatureRegistryFeature_LoggersFeature_SettingsFeature_VersionLiteral Classes CliApp Events CliApp#event:configLoadedCliApp#event:readyCliApp#event:stopping Module: Feature_CmdLineOptions Parse command line arguments using minimist and store the parsed object into app.argv, and add app.showUsage() helper function Source: features/cmdLineOptions.js Members &lt;static&gt; type :string This feature is loaded at configuration stage Type: string Source: features/cmdLineOptions.js Methods &lt;static&gt; load_(app, usageOptions) Load the feature Parameters: Name Type Description app CliApp The cli app module object usageOptions object Options for the feature Properties: Name Type Argument Description usageOptions.banner string &lt;optional&gt; Banner message or banner generator function usageOptions.program string &lt;optional&gt; Executable name usageOptions.arguments array &lt;optional&gt; Command line arguments, identified by the position of appearance usageOptions.options object &lt;optional&gt; Command line options Source: features/cmdLineOptions.js Returns: Type Promise.&lt;*&gt; × Search results Close "},"module-Feature_DevConfigByGitUser.html":{"id":"module-Feature_DevConfigByGitUser.html","title":"Module: Feature_DevConfigByGitUser","body":" cli-worker Modules FeatureFeature_BootstrapFeature_CmdLineOptionsFeature_DevConfigByGitUserFeature_FeatureRegistryFeature_LoggersFeature_SettingsFeature_VersionLiteral Classes CliApp Events CliApp#event:configLoadedCliApp#event:readyCliApp#event:stopping Module: Feature_DevConfigByGitUser Enable developer specific config identified by git user name Source: features/devConfigByGitUser.js Members &lt;static&gt; type :string This feature is loaded at configuration stage Type: string Source: features/devConfigByGitUser.js Methods &lt;static&gt; load_(app, options) Load the feature Parameters: Name Type Description app CliApp The cli app module object options object Options for the feature Properties Name Type Argument Description altUserForTest string &lt;optional&gt; Alternative username for test purpose, if given, this feature will not get git user but use this given value instead Source: features/devConfigByGitUser.js Returns: Type Promise.&lt;*&gt; × Search results Close "},"module-Feature_FeatureRegistry.html":{"id":"module-Feature_FeatureRegistry.html","title":"Module: Feature_FeatureRegistry","body":" cli-worker Modules FeatureFeature_BootstrapFeature_CmdLineOptionsFeature_DevConfigByGitUserFeature_FeatureRegistryFeature_LoggersFeature_SettingsFeature_VersionLiteral Classes CliApp Events CliApp#event:configLoadedCliApp#event:readyCliApp#event:stopping Module: Feature_FeatureRegistry Enable customized feature loading source, from npm modules or other location Source: features/featureRegistry.js Example featureRegistry: { \"feature1\": \"feature1 file path\", // feature1 = require(\"feature1 file path\"); \"feature2\": [ \"feature2 file path\", \"object path\" ] // feature2 = Util.getValueByPath(require(\"feature2 file path\"), \"object path\") } Members &lt;static&gt; type :string This feature is loaded at configuration stage Type: string Source: features/featureRegistry.js Methods &lt;static&gt; load_(app, registry) Load the feature Parameters: Name Type Description app CliApp The cli app module object registry object Feature loading source registry Source: features/featureRegistry.js Returns: Type Promise.&lt;*&gt; × Search results Close "},"module-Feature_Loggers.html":{"id":"module-Feature_Loggers.html","title":"Module: Feature_Loggers","body":" cli-worker Modules FeatureFeature_BootstrapFeature_CmdLineOptionsFeature_DevConfigByGitUserFeature_FeatureRegistryFeature_LoggersFeature_SettingsFeature_VersionLiteral Classes CliApp Events CliApp#event:configLoadedCliApp#event:readyCliApp#event:stopping Module: Feature_Loggers Enable multi-categories logging by winston logger Source: features/loggers.js Members &lt;static&gt; type :string This feature is loaded at service stage Type: string Source: features/loggers.js Methods &lt;static&gt; load_(app, categories) Load the feature Parameters: Name Type Description app CliApp The cli app module object categories object Configuration for multi-categories Source: features/loggers.js Returns: Type Promise.&lt;*&gt; Example let loggers = app.getService('loggers'); let logger = loggers.get('category'); logger.log('info', 'information'); logger.log('warn', 'warning'); let logger = app.getService('logger:category1'); logger.log('error', 'error'); × Search results Close "},"module-Feature_Settings.html":{"id":"module-Feature_Settings.html","title":"Module: Feature_Settings","body":" cli-worker Modules FeatureFeature_BootstrapFeature_CmdLineOptionsFeature_DevConfigByGitUserFeature_FeatureRegistryFeature_LoggersFeature_SettingsFeature_VersionLiteral Classes CliApp Events CliApp#event:configLoadedCliApp#event:readyCliApp#event:stopping Module: Feature_Settings Enable customized settings Source: features/settings.js Members &lt;static&gt; type :string This feature is loaded at init stage Type: string Source: features/settings.js Methods &lt;static&gt; load_(app, settings) Load the feature Parameters: Name Type Description app CliApp The cli app module object settings object Customized settings Source: features/settings.js Returns: Type Promise.&lt;*&gt; × Search results Close "},"module-Feature_Version.html":{"id":"module-Feature_Version.html","title":"Module: Feature_Version","body":" cli-worker Modules FeatureFeature_BootstrapFeature_CmdLineOptionsFeature_DevConfigByGitUserFeature_FeatureRegistryFeature_LoggersFeature_SettingsFeature_VersionLiteral Classes CliApp Events CliApp#event:configLoadedCliApp#event:readyCliApp#event:stopping Module: Feature_Version Set app version Source: features/version.js Members &lt;static&gt; type :string This feature is loaded at init stage Type: string Source: features/version.js Methods &lt;static&gt; load_(app, version) Load the feature Parameters: Name Type Description app CliApp The cli app module object version string Version information, use @package.version to use the version info from package.json located under working folder Source: features/version.js Returns: Type Promise.&lt;*&gt; × Search results Close "},"module-Literal.html":{"id":"module-Literal.html","title":"Module: Literal","body":" cli-worker Modules FeatureFeature_BootstrapFeature_CmdLineOptionsFeature_DevConfigByGitUserFeature_FeatureRegistryFeature_LoggersFeature_SettingsFeature_VersionLiteral Classes CliApp Events CliApp#event:configLoadedCliApp#event:readyCliApp#event:stopping Module: Literal Common constants Source: enum/Literal.js Example const Literal = require('cli-worker/lib/enum/Literal'); Members &lt;static&gt; APP_CFG_NAME :string App config file name Type: string Default Value: app Source: enum/Literal.js &lt;static&gt; DEFAULT_BOOTSTRAP_PATH :string Default bootrap path Type: string Default Value: bootstrap Source: enum/Literal.js &lt;static&gt; DEFAULT_CONFIG_PATH :string Config files path Type: string Default Value: conf Source: enum/Literal.js &lt;static&gt; FEATURES_PATH :string Feature files path Type: string Default Value: features Source: enum/Literal.js &lt;static&gt; MIDDLEWARES_PATH :string Middleware files path Type: string Default Value: middlewares Source: enum/Literal.js × Search results Close "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
